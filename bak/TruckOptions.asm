
*=$2000
        BYTE    60,102,110,110,96,98,60,0
        BYTE    24,60,102,126,102,102,102,0
        BYTE    124,102,102,124,102,102,124,0
        BYTE    60,102,96,96,96,102,60,0
        BYTE    120,108,102,102,102,108,120,0
        BYTE    126,96,96,120,96,96,126,0
        BYTE    126,96,96,120,96,96,96,0
        BYTE    60,102,96,110,102,102,60,0
        BYTE    102,102,102,126,102,102,102,0
        BYTE    60,24,24,24,24,24,60,0
        BYTE    30,12,12,12,12,108,56,0
        BYTE    102,108,120,112,120,108,102,0
        BYTE    96,96,96,96,96,96,126,0
        BYTE    99,119,127,107,99,99,99,0
        BYTE    102,118,126,126,110,102,102,0
        BYTE    60,102,102,102,102,102,60,0
        BYTE    124,102,102,124,96,96,96,0
        BYTE    60,102,102,102,102,60,14,0
        BYTE    124,102,102,124,120,108,102,0
        BYTE    60,102,96,60,6,102,60,0
        BYTE    126,24,24,24,24,24,24,0
        BYTE    102,102,102,102,102,102,60,0
        BYTE    102,102,102,102,102,60,24,0
        BYTE    99,99,99,107,127,119,99,0
        BYTE    102,102,60,24,60,102,102,0
        BYTE    102,102,102,60,24,24,24,0
        BYTE    126,6,12,24,48,96,126,0
        BYTE    60,48,48,48,48,48,60,0
        BYTE    12,18,48,124,48,98,252,0
        BYTE    60,12,12,12,12,12,60,0
        BYTE    0,24,60,126,24,24,24,24
        BYTE    0,16,48,127,127,48,16,0
        BYTE    0,0,0,0,0,0,0,0
        BYTE    24,24,24,24,0,0,24,0
        BYTE    102,102,102,0,0,0,0,0
        BYTE    102,102,255,102,255,102,102,0
        BYTE    24,62,96,60,6,124,24,0
        BYTE    98,102,12,24,48,102,70,0
        BYTE    60,102,60,56,103,102,63,0
        BYTE    6,12,24,0,0,0,0,0
        BYTE    12,24,48,48,48,24,12,0
        BYTE    48,24,12,12,12,24,48,0
        BYTE    0,102,60,255,60,102,0,0
        BYTE    0,24,24,126,24,24,0,0
        BYTE    0,0,0,0,0,24,24,48
        BYTE    0,0,0,126,0,0,0,0
        BYTE    0,0,0,0,0,24,24,0
        BYTE    0,3,6,12,24,48,96,0
        BYTE    60,66,66,90,66,66,60,0
        BYTE    8,24,40,8,8,8,126,0
        BYTE    60,66,2,28,32,66,126,0
        BYTE    60,66,2,12,2,66,60,0
        BYTE    4,12,20,36,126,4,4,0
        BYTE    126,64,124,2,2,66,60,0
        BYTE    60,66,64,124,66,66,60,0
        BYTE    126,2,4,8,60,16,16,0
        BYTE    24,36,36,60,66,66,60,0
        BYTE    60,66,66,62,2,66,60,0
        BYTE    0,0,24,0,0,24,0,0
        BYTE    0,0,24,0,0,24,24,48
        BYTE    14,24,48,96,48,24,14,0
        BYTE    0,0,126,0,126,0,0,0
        BYTE    112,24,12,6,12,24,112,0
        BYTE    60,102,6,12,24,0,24,0
        BYTE    0,0,0,255,255,0,0,0
        BYTE    8,28,62,127,127,28,62,0
        BYTE    24,24,24,24,24,24,24,24
        BYTE    0,0,0,255,255,0,0,0
        BYTE    0,0,255,255,0,0,0,0
        BYTE    0,255,255,0,0,0,0,0
        BYTE    0,0,0,0,255,255,0,0
        BYTE    48,48,48,48,48,48,48,48
        BYTE    12,12,12,12,12,12,12,12
        BYTE    0,0,0,224,240,56,24,24
        BYTE    24,24,28,15,7,0,0,0
        BYTE    24,24,56,240,224,0,0,0
        BYTE    192,192,192,192,192,192,255,255
        BYTE    192,224,112,56,28,14,7,3
        BYTE    3,7,14,28,56,112,224,192
        BYTE    255,255,192,192,192,192,192,192
        BYTE    255,255,3,3,3,3,3,3
        BYTE    255,255,255,251,243,227,195,131
        BYTE    0,0,0,0,0,255,255,0
        BYTE    54,127,127,127,62,28,8,0
        BYTE    96,96,96,96,96,96,96,96
        BYTE    0,0,0,7,15,28,24,24
        BYTE    195,231,126,60,60,126,231,195
        BYTE    0,60,126,102,102,126,60,0
        BYTE    24,24,102,102,24,24,60,0
        BYTE    6,6,6,6,6,6,6,6
        BYTE    8,28,62,127,62,28,8,0
        BYTE    24,24,24,255,255,24,24,24
        BYTE    192,192,48,48,192,192,48,48
        BYTE    24,24,24,24,24,24,24,24
        BYTE    0,0,3,62,118,54,54,0
        BYTE    255,127,63,31,15,7,3,1
        BYTE    0,0,0,0,0,0,0,0
        BYTE    240,240,240,240,240,240,240,240
        BYTE    0,0,0,0,255,255,255,255
        BYTE    255,0,0,0,0,0,0,0
        BYTE    100,138,138,74,42,42,196,0
        BYTE    140,138,138,138,138,138,236,0
        BYTE    204,204,51,51,204,204,51,51
        BYTE    3,3,3,3,3,3,3,3
        BYTE    0,0,0,0,204,204,51,51
        BYTE    255,254,252,248,240,224,192,128
        BYTE    3,3,3,3,3,3,3,3
        BYTE    24,24,24,31,31,24,24,24
        BYTE    0,0,0,0,15,15,15,15
        BYTE    24,24,24,31,31,0,0,0
        BYTE    0,0,0,248,248,24,24,24
        BYTE    0,0,0,0,0,0,255,255
        BYTE    0,0,0,31,31,24,24,24
        BYTE    24,24,24,255,255,0,0,0
        BYTE    0,0,0,255,255,24,24,24
        BYTE    24,24,24,248,248,24,24,24
        BYTE    192,192,192,192,192,192,192,192
        BYTE    224,224,224,224,224,224,224,224
        BYTE    7,7,7,7,7,7,7,7
        BYTE    255,255,0,0,0,0,0,0
        BYTE    255,255,255,0,0,0,0,0
        BYTE    0,0,0,0,0,255,255,255
        BYTE    0,85,85,37,35,0,64,128
        BYTE    0,69,109,84,69,0,0,0
        BYTE    0,174,168,170,110,0,64,128
        BYTE    24,40,88,60,26,24,36,36
        BYTE    24,8,90,60,24,24,36,36
        BYTE    0,24,24,60,90,24,36,36
        BYTE    195,153,145,145,159,153,195,255
        BYTE    231,195,153,129,153,153,153,255
        BYTE    131,153,153,131,153,153,131,255
        BYTE    195,153,159,159,159,153,195,255
        BYTE    135,147,153,153,153,147,135,255
        BYTE    129,159,159,135,159,159,129,255
        BYTE    129,159,159,135,159,159,159,255
        BYTE    195,153,159,145,153,153,195,255
        BYTE    153,153,153,129,153,153,153,255
        BYTE    195,231,231,231,231,231,195,255
        BYTE    225,243,243,243,243,147,199,255
        BYTE    153,147,135,143,135,147,153,255
        BYTE    159,159,159,159,159,159,129,255
        BYTE    156,136,128,148,156,156,156,255
        BYTE    153,137,129,129,145,153,153,255
        BYTE    195,153,153,153,153,153,195,255
        BYTE    131,153,153,131,159,159,159,255
        BYTE    195,153,153,153,153,195,241,255
        BYTE    131,153,153,131,135,147,153,255
        BYTE    195,153,159,195,249,153,195,255
        BYTE    129,231,231,231,231,231,231,255
        BYTE    153,153,153,153,153,153,195,255
        BYTE    153,153,153,153,153,195,231,255
        BYTE    156,156,156,148,128,136,156,255
        BYTE    153,153,195,231,195,153,153,255
        BYTE    153,153,153,195,231,231,231,255
        BYTE    129,249,243,231,207,159,129,255
        BYTE    195,207,207,207,207,207,195,255
        BYTE    243,237,207,131,207,157,3,255
        BYTE    195,243,243,243,243,243,195,255
        BYTE    255,231,195,129,231,231,231,231
        BYTE    255,239,207,128,128,207,239,255
        BYTE    255,255,255,255,255,255,255,255
        BYTE    231,231,231,231,255,255,231,255
        BYTE    153,153,153,255,255,255,255,255
        BYTE    153,153,0,153,0,153,153,255
        BYTE    231,193,159,195,249,131,231,255
        BYTE    157,153,243,231,207,153,185,255
        BYTE    195,153,195,199,152,153,192,255
        BYTE    249,243,231,255,255,255,255,255
        BYTE    243,231,207,207,207,231,243,255
        BYTE    207,231,243,243,243,231,207,255
        BYTE    255,153,195,0,195,153,255,255
        BYTE    255,231,231,129,231,231,255,255
        BYTE    255,255,255,255,255,231,231,207
        BYTE    255,255,255,129,255,255,255,255
        BYTE    255,255,255,255,255,231,231,255
        BYTE    255,252,249,243,231,207,159,255
        BYTE    195,153,145,137,153,153,195,255
        BYTE    231,231,199,231,231,231,129,255
        BYTE    195,153,249,243,207,159,129,255
        BYTE    195,153,249,227,249,153,195,255
        BYTE    249,241,225,153,128,249,249,255
        BYTE    129,159,131,249,249,153,195,255
        BYTE    195,153,159,131,153,153,195,255
        BYTE    129,153,243,231,231,231,231,255
        BYTE    195,153,153,195,153,153,195,255
        BYTE    195,153,153,193,249,153,195,255
        BYTE    255,255,231,255,255,231,255,255
        BYTE    255,255,231,255,255,231,231,207
        BYTE    241,231,207,159,207,231,241,255
        BYTE    255,255,129,255,129,255,255,255
        BYTE    143,231,243,249,243,231,143,255
        BYTE    195,153,249,243,231,255,231,255
        BYTE    255,255,255,0,0,255,255,255
        BYTE    247,227,193,128,128,227,193,255
        BYTE    231,231,231,231,231,231,231,231
        BYTE    255,255,255,0,0,255,255,255
        BYTE    255,255,0,0,255,255,255,255
        BYTE    255,0,0,255,255,255,255,255
        BYTE    255,255,255,255,0,0,255,255
        BYTE    207,207,207,207,207,207,207,207
        BYTE    243,243,243,243,243,243,243,243
        BYTE    255,255,255,31,15,199,231,231
        BYTE    231,231,227,240,248,255,255,255
        BYTE    231,231,199,15,31,255,255,255
        BYTE    63,63,63,63,63,63,0,0
        BYTE    63,31,143,199,227,241,248,252
        BYTE    252,248,241,227,199,143,31,63
        BYTE    0,0,63,63,63,63,63,63
        BYTE    0,0,252,252,252,252,252,252
        BYTE    255,195,129,129,129,129,195,255
        BYTE    255,255,255,255,255,0,0,255
        BYTE    201,128,128,128,193,227,247,255
        BYTE    159,159,159,159,159,159,159,159
        BYTE    255,255,255,248,240,227,231,231
        BYTE    60,24,129,195,195,129,24,60
        BYTE    255,195,129,153,153,129,195,255
        BYTE    231,231,153,153,231,231,195,255
        BYTE    249,249,249,249,249,249,249,249
        BYTE    247,227,193,128,193,227,247,255
        BYTE    231,231,231,0,0,231,231,231
        BYTE    63,63,207,207,63,63,207,207
        BYTE    231,231,231,231,231,231,231,231
        BYTE    255,255,252,193,137,201,201,255
        BYTE    0,128,192,224,240,248,252,254
        BYTE    255,255,255,255,255,255,255,255
        BYTE    15,15,15,15,15,15,15,15
        BYTE    255,255,255,255,0,0,0,0
        BYTE    0,255,255,255,255,255,255,255
        BYTE    255,255,255,255,255,255,255,0
        BYTE    63,63,63,63,63,63,63,63
        BYTE    51,51,204,204,51,51,204,204
        BYTE    252,252,252,252,252,252,252,252
        BYTE    255,255,255,255,51,51,204,204
        BYTE    0,1,3,7,15,31,63,127
        BYTE    252,252,252,252,252,252,252,252
        BYTE    231,231,231,224,224,231,231,231
        BYTE    255,255,255,255,240,240,240,240
        BYTE    231,231,231,224,224,255,255,255
        BYTE    255,255,255,7,7,231,231,231
        BYTE    255,255,255,255,255,255,0,0
        BYTE    255,255,255,224,224,231,231,231
        BYTE    231,231,231,0,0,255,255,255
        BYTE    255,255,255,0,0,231,231,231
        BYTE    231,231,231,7,7,231,231,231
        BYTE    63,63,63,63,63,63,63,63
        BYTE    31,31,31,31,31,31,31,31
        BYTE    248,248,248,248,248,248,248,248
        BYTE    0,0,255,255,255,255,255,255
        BYTE    0,0,0,255,255,255,255,255
        BYTE    255,255,255,255,255,0,0,0
        BYTE    252,252,252,252,252,252,0,0
        BYTE    255,255,255,255,15,15,15,15
        BYTE    0,0,0,0,0,0,0,0
        BYTE    0,88,154,124,24,24,36,36
        BYTE    24,8,24,60,90,24,36,36
        BYTE    0,24,24,60,60,24,24,24

*=$3000
; Truck right
 BYTE 170,170,0
 BYTE 170,170,160
 BYTE 175,254,144
 BYTE 191,255,144
 BYTE 191,255,144
 BYTE 191,255,169
 BYTE 191,255,170
 BYTE 170,170,170
 BYTE 85,169,86
 BYTE 65,85,5
 BYTE 60,84,240
 BYTE 60,0,240
 BYTE 60,0,240
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0

; Truck right 2
 BYTE 0,0,0
 BYTE 170,170,0
 BYTE 170,170,160
 BYTE 175,254,144
 BYTE 191,255,144
 BYTE 191,255,144
 BYTE 191,255,169
 BYTE 191,255,170
 BYTE 170,170,170
 BYTE 85,169,86
 BYTE 125,85,245
 BYTE 60,84,240
 BYTE 60,0,240
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0

; Truck right 3
 BYTE 170,170,0
 BYTE 170,170,160
 BYTE 175,254,144
 BYTE 191,255,144
 BYTE 191,255,144
 BYTE 191,255,169
 BYTE 191,255,170
 BYTE 170,170,170
 BYTE 85,169,86
 BYTE 125,85,245
 BYTE 60,84,240
 BYTE 60,0,240
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0

; 3/4 Truck
 BYTE 0,0,170
 BYTE 0,2,170
 BYTE 0,10,170
 BYTE 0,42,170
 BYTE 0,170,138
 BYTE 2,170,10
 BYTE 10,168,10
 BYTE 42,160,10
 BYTE 42,160,43
 BYTE 21,224,175
 BYTE 21,226,144
 BYTE 42,170,64
 BYTE 170,169,0
 BYTE 170,164,0
 BYTE 105,128,0
 BYTE 170,192,0
 BYTE 243,192,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0

; Man
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,128,0
 BYTE 2,0,0
 BYTE 1,0,0
 BYTE 1,1,0
 BYTE 50,5,0
 BYTE 6,16,0
 BYTE 2,80,0
 BYTE 1,0,0
 BYTE 5,0,0
 BYTE 16,0,0
 BYTE 80,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0

; CrapBurger
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,15,192
 BYTE 0,63,240
 BYTE 0,255,248
 BYTE 0,255,172
 BYTE 3,250,252
 BYTE 2,175,240
 BYTE 3,255,0
 BYTE 0,240,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0

; Taco
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,41,128
 BYTE 0,175,224
 BYTE 1,186,168
 BYTE 10,234,152
 BYTE 11,170,168
 BYTE 11,154,168
 BYTE 11,170,104
 BYTE 10,170,168
 BYTE 2,170,160
 BYTE 0,154,0
 BYTE 0,160,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0

; HotDog
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,60
 BYTE 0,3,252
 BYTE 0,63,234
 BYTE 0,254,190
 BYTE 0,235,252
 BYTE 2,191,252
 BYTE 2,191,240
 BYTE 0,255,0
 BYTE 0,240,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0

; left brace
 BYTE 128,0,0
 BYTE 128,0,0
 BYTE 160,0,0
 BYTE 168,0,0
 BYTE 160,0,0
 BYTE 128,0,0
 BYTE 128,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0

; right brace
 BYTE 128,0,0
 BYTE 128,0,0
 BYTE 160,0,0
 BYTE 168,0,0
 BYTE 160,0,0
 BYTE 128,0,0
 BYTE 128,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0,0,0
 BYTE 0

; 10 SYS (26112)

*=$0801

        BYTE    $0E, $08, $0A, $00, $9E, $20, $28,  $32, $36, $31, $31, $32, $29, $00, $00, $00

;Set variables;
BakeTimer       byte 10
TruckType       byte 1
PassCount       byte 0
PassCount2      byte 0
LineCount       byte 0
SaleCount       byte 0
LeftCount       byte 0

wait    null 'in line'
pass    null 'no show'
gone    null 'toolong'
sold    null 'sold   '

truckq   null 'truck type   '
trucktp  null 'taco     burger    hotdog'
skillz   null 'assign skills'
spdtx    null 'spd'
chrtx    null 'chr'
skltx    null 'skl'
pntlft   null 'points left  '

startPnts       byte 10
Speed           byte 0
Charz           byte 0
Skill           byte 0


throw1  byte 0
throw2  byte 0
throw3  byte 0
throw4  byte 0
throw5  byte 0

div_lo  byte 0
div_hi  byte 0
;Set Constants;
scnsrt          = #$0400
SPR_ROOT        = ($3000/64)
rand            = $d41b
leavchance      = #$e6
firstguy        = $051d

defm 16bitadd 
        clc
        lda /1          ;/1 is low bit for 16 bit number /2 is high bit for 16 bit number /3 is ammount to add up to 255
        adc /3
        sta /1
        bcc @go
        inc /2
        clc
@go            

        endm

defm 16bitsub 
        
        sec
        lda /1          ;/1 is low bit for 16 bit number /2 is high bit for 16 bit number /3 is ammount to subtract up to 255
        sbc /3
        sta /1
        bcs @go
        dec /2
        sec
@go            

        endm

defm conv2dec   ;http://www.melon64.com/forum/viewtopic.php?f=25&t=401&sid=0ae0df3cfc87b121fe84d14c9ef605b3&start=10
  LDY /2        ;2 is the high bite for a number (set to #0 if not used)
  LDX /1        ;1 is the low bite of a number 
  STX div_lo
  STY div_hi
  LDY #$04
@next
  JSR @div10
  ORA #$30
  STA /3,Y      ;3 is the screen location to load the text (5numbers)
  DEY
  BPL @next
  jmp @macend

@div10
  LDX #$11
  LDA #$00
  CLC
@loop
  ROL
  CMP #$0A
  BCC @skip
  SBC #$0A
  CLV
@skip
  ROL div_lo
  ROL div_hi
  DEX
  BNE @loop
  RTS
@macend
        endm

defm printatx
        ldx #0
@loop   lda /1,x         ;1 is memory location of string to print
        sta /2,x         ;2 is memory screen location to print
        inx
        cpx #/3
        bne @loop 
        endm

defm conv2dec8bit   ;http://www.melon64.com/forum/viewtopic.php?f=25&t=401&sid=0ae0df3cfc87b121fe84d14c9ef605b3&start=10
  LDY #0        ;2 is the high bite for a number (set to #0 if not used)
  LDX /1        ;1 is the low bite of a number 
  STX div_lo
  STY div_hi
  LDY #$04
@next
  JSR @div10
  ORA #$30
  cpy #3
  bcc @skipnum
  STA /2,Y      ;3 is the screen location to load the text (5numbers)
@skipnum  DEY
  BPL @next
  jmp @macend

@div10
  LDX #$11
  LDA #$00
  CLC
@loop
  ROL
  CMP #$0A
  BCC @skip
  SBC #$0A
  CLV
@skip
  ROL div_lo
  ROL div_hi
  DEX
  BNE @loop
  RTS
@macend
        endm

*=$6600
        
        LDA #$6F        ;This Part initalized noise channel for random
        LDY #$81        ;and lets us use lda $d41b to grab a random num
        LDX #$FF        ;between 0-255
        STA $D413 
        STY $D412 
        STX $D40E 
        STX $D40F 
        STX $D414 

        jsr $e544       ;clear screen
        lda #$18
        sta $d018       ;set char rom to $3800 and leave screen ram default
        lda #0              ;set border colour
        sta $D020
        lda #11         ;set background colour
        sta $D021
        lda #7
        sta $d027       ;storesprite1 colour
        sta $d028       ;storesprite2 colour
        lda #%00000001  
        sta $d015       ;turn on sprites
        lda #SPR_ROOT+8         ;load sprite of left pointing
        sta $07f8
        lda #70+64
        sta $d002
        lda #86
        sta $d003
        lda #SPR_ROOT+9         ;load sprite of right pointing
        sta $07f9
        lda #70
        sta $d000
        lda #90
        sta $d001

        ldx #0
        lda #15
colfil  sta $d800,x                     ;fill color drkgry
        sta $d900,x
        sta $da00,x
        sta $dae8,x
        dex
        bne colfil

mainwrd ldx #0
@loop   lda truckq,x
        sta $042A,x         
        lda skillz,x
        sta $0592,x         
        lda pntlft,x
        sta $074A,x         
        inx
        cpx #13
        bne @loop 

sklwrd  ldx #0
@loop   lda spdtx,x
        sta $0612,x         
        lda chrtx,x
        sta $0612+80,x         
        lda skltx,x
        sta $0612+160,x         
        inx
        cpx #3
        bne @loop 

trktyp  ldx #0
@loop   lda trucktp,x
        sta $04d0,x  
        inx
        cpx #25
        bne @loop 

        lda #$ff 
        sta $dc02


truckLoop
@readKey jsr $ffe4       ; read key
        beq @readKey
        cmp #$1D        ; right arrow
        bne @next
        lda TruckType
        cmp #3
        beq @readKey
        inc TruckType
        
        ldy #80
@loopr  inc $d000
        inc $d000
        ldx #00
        jsr delayx
        dey
        dey
        bne @loopr
        jmp truckLoop
@next   cmp #$9D        ;left arrow
        bne @last
        lda TruckType
        cmp #1
        beq @readKey
        dec TruckType
        ldy #80
@loopl  dec $d000
        dec $d000
        ldx #00
        jsr delayx
        dey
        dey
        bne @loopl
        jmp truckLoop
@last   cmp #$0D        ;enter
        bne truckLoop
        ldx #8
        lda $d000
        LSR a
        LSR a
        LSR a
        tay
@loopcl lda #%10000000
        eor $04C6,y
        sta $04C6,y
        iny
        dex
        bne @loopcl
        lda #154
        sta $d001
        lda #88
        sta $d000

        lda #1
        sta throw1
showstats
        conv2dec8bit     Speed,$0613
        conv2dec8bit     Charz,$0663
        conv2dec8bit     Skill,$06B3
        conv2dec8bit     startPnts,$0753
statsloop
@readkey jsr $ffe4       ; read key
        beq @readKey
        cmp #$1D        ;right arrow
        bne @left
        lda startPnts
        cmp #1
        beq @readkey
        ldx throw1
        inc startPnts,x
        dec startPnts
        jmp showstats

@left   cmp #$9D        ;left arrow
        bne @enter
        ldx throw1
        lda startPnts,x
        cmp #0
        beq @readkey
        dec startPnts,x
        inc startPnts
        jmp showstats

@enter  cmp #$0D        ;enter
        bne @up
        jmp forever

@up     cmp #$91       ;up arrow
        bne @down
        lda throw1
        cmp #0
        beq statsloop
        dec throw1
        lda $d001
        sbc #16
        sta $d001
        jmp showstats

@down   cmp #$11        ;down arrow
        bne statsloop
        lda throw1
        cmp #3
        beq statsloop
        inc throw1
        lda $d001
        adc #16
        sta $d001
        jmp showstats

forever jmp forever


delayx  lda     $d012
        cmp     #$ff
        bne     delayx
        rts
